<html>
  <head>

	<link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css">
	<script src="/assets/StackBlur.js"></script>
  	<style>
		body {
			margin: 0;
			padding: 0;
			height: 100%;
			background: #000;
		}

		.video-wrap {
			position: absolute;
			width:100%;
			height: 100%;
			overflow: hidden;
		}

		#video {
		    -webkit-filter: blur(20px);
		    -webkit-transform: translate3d(0, 0, 0);
		    position: absolute;
		    top:-50%;
		    left:-50%;
		    width: 200%;
		    height: 200%;
		}

		.overlay {
			position: relative;
			text-align: center;
			z-index: 100;
			color:#fff;
		}
  	</style>

  </head>
  <body>
  	<div class="video-wrap">
		<video id="video" width="150%" height="150%" autoplay></video>
	</div>

	<div class="overlay">
		<a href=""><img src="/assets/smiley-face.png" alt=""></a>
		<h1>#{root.greeting}</h1>
	</div>

	<script>
		// Put event listeners into place
		window.addEventListener("DOMContentLoaded", function() {

			// Grab elements, create settings, etc.
			var video = document.getElementById("video"),
				videoObj = { "video": true },
				errBack = function(error) {
					console.log("Video capture error: ", error.code); 
				};

			// Put video listeners into place
			if(navigator.getUserMedia) { // Standard
				navigator.getUserMedia(videoObj, function(stream) {
					video.src = stream;
					video.play();
				}, errBack);
			} else if(navigator.webkitGetUserMedia) { // WebKit-prefixed
				navigator.webkitGetUserMedia(videoObj, function(stream){
					video.src = window.webkitURL.createObjectURL(stream);
					video.play();
				}, errBack);
			}
			else if(navigator.mozGetUserMedia) { // Firefox-prefixed
				navigator.mozGetUserMedia(videoObj, function(stream){
					video.src = window.URL.createObjectURL(stream);
					video.play();
				}, errBack);
			}

			stackBlurCanvasRGBA( 'video', 0, 0, 400, 400, 50 );
		}, false);
		</script>
  </body>
</html>
